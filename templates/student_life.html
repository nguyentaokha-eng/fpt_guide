{% extends 'base.html' %}
{% load static %}

{% block content %}
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
    :root {
        --orange-primary: #ff6b35;
        --orange-secondary: #ff8c42;
        --dark-text: #2c3e50;
        --light-bg: #f8f9fa;
    }

    .student-life-container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 40px 20px;
    }

    .section-title {
        font-family: 'Montserrat', sans-serif;
        font-size: 2.5rem;
        font-weight: 800;
        margin-bottom: 50px;
        position: relative;
        display: inline-block;
    }

    .section-title::after {
        content: '';
        position: absolute;
        bottom: -10px;
        left: 0;
        width: 200px;
        height: 4px;
        background: linear-gradient(90deg, var(--orange-primary), var(--orange-secondary));
        border-radius: 2px;
    }

    .section-title .highlight { color: var(--orange-primary); }

    .diagonal-lines {
        display: inline-block;
        width: 100px;
        height: 3px;
        background: repeating-linear-gradient(45deg, #ddd, #ddd 5px, transparent 5px, transparent 10px);
        margin-left: 20px;
        vertical-align: middle;
    }

    .facilities-section { margin-bottom: 80px; }

    .bento-grid {
        display: grid;
        grid-template-columns: repeat(12, 1fr);
        grid-template-rows: 240px 240px 200px;
        gap: 14px;
    }

    .bento-card:nth-child(1) { grid-column: 1 / 6;  grid-row: 1 / 2; }
    .bento-card:nth-child(2) { grid-column: 6 / 9;  grid-row: 1 / 2; }
    .bento-card:nth-child(3) { grid-column: 9 / 13; grid-row: 1 / 3; }
    .bento-card:nth-child(4) { grid-column: 1 / 4;  grid-row: 2 / 3; }
    .bento-card:nth-child(5) { grid-column: 4 / 9;  grid-row: 2 / 3; }
    .bento-card:nth-child(6) { grid-column: 1 / 4;  grid-row: 3 / 4; }
    .bento-card:nth-child(7) { grid-column: 4 / 7;  grid-row: 3 / 4; }
    .bento-card:nth-child(8) { grid-column: 7 / 13; grid-row: 3 / 4; }

    .bento-card {
        position: relative;
        border-radius: 18px;
        overflow: hidden;
        cursor: pointer;
        background: #1a1a2e;
        opacity: 0;
        transform: translateY(28px) scale(0.97);
        transition:
            opacity 0.55s cubic-bezier(0.22, 1, 0.36, 1),
            transform 0.55s cubic-bezier(0.22, 1, 0.36, 1),
            box-shadow 0.4s ease;
    }

    .bento-card.visible {
        opacity: 1;
        transform: translateY(0) scale(1);
    }

    .bento-card:hover {
        transform: translateY(-6px) scale(1.02);
        box-shadow:
            0 0 0 2px var(--orange-primary),
            0 20px 50px rgba(255, 107, 53, 0.28),
            0 8px 20px rgba(0,0,0,0.2);
        z-index: 2;
    }

    .bento-bg-image {
        position: absolute;
        inset: 0;
        width: 100%; height: 100%;
        object-fit: cover;
        transition: transform 0.65s cubic-bezier(0.22, 1, 0.36, 1), filter 0.4s ease;
        filter: brightness(0.75) saturate(1.1);
    }

    .bento-card:hover .bento-bg-image {
        transform: scale(1.1);
        filter: brightness(0.6) saturate(1.25);
    }

    .bento-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(160deg, transparent 30%, rgba(0,0,0,0.1) 55%, rgba(0,0,0,0.72) 100%);
        transition: opacity 0.4s ease;
    }

    .bento-card:hover .bento-overlay {
        background: linear-gradient(160deg, rgba(255,107,53,0.04) 0%, rgba(0,0,0,0.15) 40%, rgba(0,0,0,0.82) 100%);
    }

    .bento-category {
        position: absolute;
        top: 16px; left: 16px;
        font-family: 'Montserrat', sans-serif;
        font-size: 0.68rem;
        font-weight: 700;
        letter-spacing: 0.14em;
        text-transform: uppercase;
        color: rgba(255,255,255,0.9);
        background: rgba(255, 107, 53, 0.22);
        backdrop-filter: blur(8px);
        border: 1px solid rgba(255, 107, 53, 0.45);
        padding: 4px 12px;
        border-radius: 20px;
        z-index: 3;
        transform: translateY(0);
        transition: transform 0.3s ease, background 0.3s ease;
    }

    .bento-card:hover .bento-category {
        background: rgba(255, 107, 53, 0.5);
        transform: translateY(-2px);
    }

    .bento-info {
        position: absolute;
        bottom: 0; left: 0; right: 0;
        padding: 20px 22px 22px;
        z-index: 3;
        transform: translateY(6px);
        transition: transform 0.4s cubic-bezier(0.22, 1, 0.36, 1);
    }

    .bento-card:hover .bento-info { transform: translateY(0); }

    .bento-name {
        font-family: 'Montserrat', sans-serif;
        font-size: 1.2rem;
        font-weight: 800;
        color: #fff;
        line-height: 1.2;
        text-shadow: 0 2px 12px rgba(0,0,0,0.4);
    }

    .bento-sub {
        font-family: 'Poppins', sans-serif;
        font-size: 0.78rem;
        color: rgba(255,255,255,0.65);
        margin-top: 3px;
        font-weight: 400;
        opacity: 0;
        transform: translateY(6px);
        transition: opacity 0.35s ease 0.05s, transform 0.35s ease 0.05s;
    }

    .bento-card:hover .bento-sub { opacity: 1; transform: translateY(0); }

    .bento-card::before {
        content: '';
        position: absolute;
        top: 0; left: -100%;
        width: 60%; height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.06), transparent);
        transition: left 0.6s ease;
        z-index: 4;
        pointer-events: none;
    }

    .bento-card:hover::before { left: 150%; }

    .bento-card::after {
        content: '';
        position: absolute;
        bottom: 0; right: 0;
        width: 0; height: 0;
        border-style: solid;
        border-width: 0 0 40px 40px;
        border-color: transparent transparent rgba(255,107,53,0) transparent;
        transition: border-color 0.35s ease;
        z-index: 5;
    }

    .bento-card:hover::after { border-color: transparent transparent rgba(255,107,53,0.6) transparent; }

    .bento-icon {
        position: absolute;
        top: 50%; left: 50%;
        transform: translate(-50%, -55%);
        font-size: 3.5rem;
        opacity: 0.12;
        z-index: 1;
        transition: opacity 0.4s ease, transform 0.4s ease;
        pointer-events: none;
    }

    .bento-card:hover .bento-icon {
        opacity: 0.2;
        transform: translate(-50%, -55%) scale(1.2) rotate(5deg);
    }

    .bento-card.no-image { background: linear-gradient(135deg, #1a1a2e, #2a2a4e); }
    .bento-card.no-image .bento-name  { color: #fff; }
    .bento-card.no-image .bento-sub   { color: rgba(255,255,255,0.5); }
    .bento-card.no-image .bento-icon  { opacity: 0.25; }

    .luk-card-wrap { margin-top: 14px; }

    .luk-card-wrap .bento-card {
        height: 150px;
        border-radius: 18px;
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.55s ease, transform 0.55s ease, box-shadow 0.4s ease;
    }

    .luk-card-wrap .bento-card.visible { opacity: 1; transform: translateY(0); }

    /* ============ MODAL ============ */
    .modal {
        display: none;
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.95);
        z-index: 9999;
        align-items: center;
        justify-content: center;
        animation: fadeIn 0.3s ease;
    }

    .modal.active { display: flex; }

    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    .modal-content {
        position: relative;
        max-width: 90%; max-height: 90%;
        animation: zoomIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    @keyframes zoomIn {
        from { transform: scale(0.7); opacity: 0; }
        to   { transform: scale(1);   opacity: 1; }
    }

    .modal-image {
        max-width: 100%; max-height: 90vh;
        border-radius: 15px;
        box-shadow: 0 30px 60px rgba(0,0,0,0.5);
        object-fit: contain;
    }

    .modal-close {
        position: absolute;
        top: -50px; right: -50px;
        width: 40px; height: 40px;
        background: white; border: none;
        border-radius: 50%; cursor: pointer;
        font-size: 1.5rem;
        display: flex; align-items: center; justify-content: center;
        transition: all 0.3s ease;
    }

    .modal-close:hover { background: var(--orange-primary); color: white; transform: rotate(90deg); }

    .modal-nav {
        position: absolute;
        top: 50%; transform: translateY(-50%);
        width: 50px; height: 50px;
        background: rgba(255,255,255,0.9); border: none;
        border-radius: 50%; cursor: pointer;
        font-size: 1.5rem;
        transition: all 0.3s ease;
    }

    .modal-nav:hover { background: var(--orange-primary); color: white; }
    .modal-nav.prev { left: -70px; }
    .modal-nav.next { right: -70px; }

    .modal-caption {
        text-align: center; color: white;
        margin-top: 20px; font-size: 1.2rem; font-weight: 600;
    }

    /* ============ CLUBS ============ */
    .clubs-section { margin-bottom: 80px; }

    .clubs-intro {
        max-width: 1200px;
        font-size: 1.1rem; line-height: 1.8;
        color: #555; margin-bottom: 40px;
    }

    .cta-button {
        display: inline-flex; align-items: center; gap: 10px;
        padding: 15px 35px;
        background: linear-gradient(135deg, var(--orange-primary), var(--orange-secondary));
        color: white; text-decoration: none;
        border-radius: 50px; font-weight: 600; font-size: 1.1rem;
        transition: all 0.3s ease;
        box-shadow: 0 10px 25px rgba(255,107,53,0.3);
        margin-bottom: 40px;
    }

    .cta-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 35px rgba(255,107,53,0.4);
        color: white;
    }

    .cta-button svg { width: 20px; height: 20px; }

    .clubs-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 30px;
    }

    .club-card {
        position: relative;
        border-radius: 20px; overflow: hidden;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        transition: all 0.4s ease;
        border: 3px solid var(--orange-primary);
        background: #fff;
    }

    .club-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 50px rgba(255,107,53,0.25);
    }

    .club-image {
        width: 100%; height: 350px;
        object-fit: cover; object-position: center;
        transition: transform 0.5s ease;
    }

    .club-card:hover .club-image { transform: scale(1.1); }

    /* ============ INTERNATIONAL ============ */
    .international-section { margin-bottom: 80px; }

    .international-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 60px; align-items: center;
    }

    .international-images {
        position: relative;
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        grid-template-rows: repeat(2, 1fr);
        gap: 15px;
        height: 600px;
    }

    .international-images::before {
        content: '';
        position: absolute;
        top: -20px; left: -20px;
        width: 150px; height: 150px;
        border: 4px solid var(--orange-primary);
        border-radius: 20px;
        z-index: -1;
    }

    .int-image-wrapper {
        border-radius: 15px; overflow: hidden;
        box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        transition: all 0.4s ease;
        cursor: pointer;
        border: 3px solid var(--orange-primary);
    }

    .int-image-wrapper:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(255,107,53,0.3);
    }

    .int-image-wrapper:nth-child(1) { grid-row: 1 / 3; }

    .int-image { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease; }
    .int-image-wrapper:hover .int-image { transform: scale(1.1); }

    .international-content { padding: 20px; }
    .international-content p {
        font-size: 1.1rem; line-height: 1.8;
        color: #555; margin-bottom: 30px;
    }

    .pagination-dots { display: flex; gap: 10px; margin-top: 20px; }
    .dot { width: 12px; height: 12px; border-radius: 50%; background: #ddd; cursor: pointer; transition: all 0.3s ease; }
    .dot.active, .dot:hover { background: var(--orange-primary); transform: scale(1.2); }

    /* ============ RESPONSIVE ============ */
    @media (max-width: 1024px) {
        .bento-grid {
            grid-template-columns: repeat(6, 1fr);
            grid-template-rows: 220px 220px 220px 200px;
        }
        .bento-card:nth-child(1) { grid-column: 1 / 5; grid-row: 1 / 2; }
        .bento-card:nth-child(2) { grid-column: 5 / 7; grid-row: 1 / 2; }
        .bento-card:nth-child(3) { grid-column: 1 / 3; grid-row: 2 / 4; }
        .bento-card:nth-child(4) { grid-column: 3 / 5; grid-row: 2 / 3; }
        .bento-card:nth-child(5) { grid-column: 5 / 7; grid-row: 2 / 3; }
        .bento-card:nth-child(6) { grid-column: 3 / 5; grid-row: 3 / 4; }
        .bento-card:nth-child(7) { grid-column: 5 / 7; grid-row: 3 / 4; }
        .bento-card:nth-child(8) { grid-column: 1 / 7; grid-row: 4 / 5; }
    }

    @media (max-width: 768px) {
        .section-title { font-size: 2rem; }
        .bento-grid {
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: repeat(5, 200px);
        }
        .bento-card:nth-child(1) { grid-column: 1 / 3; grid-row: 1 / 2; }
        .bento-card:nth-child(2) { grid-column: 1 / 2; grid-row: 2 / 3; }
        .bento-card:nth-child(3) { grid-column: 2 / 3; grid-row: 2 / 4; }
        .bento-card:nth-child(4) { grid-column: 1 / 2; grid-row: 3 / 4; }
        .bento-card:nth-child(5) { grid-column: 1 / 3; grid-row: 4 / 5; }
        .bento-card:nth-child(6) { grid-column: 1 / 2; grid-row: 5 / 6; }
        .bento-card:nth-child(7) { grid-column: 2 / 3; grid-row: 5 / 6; }
        .bento-card:nth-child(8) { grid-column: 1 / 3; grid-row: 6 / 7; }
        .clubs-grid { grid-template-columns: 1fr; }
        .international-container { grid-template-columns: 1fr; }
        .international-images { height: 500px; }
    }

    @media (max-width: 480px) {
        .bento-grid { grid-template-columns: 1fr; }
        .bento-card:nth-child(n) { grid-column: 1 / 2 !important; grid-row: auto !important; }
    }
</style>

<div class="student-life-container">

    <!-- ============ FACILITIES BENTO ============ -->
    <section class="facilities-section">
        <h2 class="section-title">
            C∆° s·ªü <span class="highlight">v·∫≠t ch·∫•t</span>
            <span class="diagonal-lines"></span>
        </h2>

        <div class="bento-grid" id="bentoGrid">

            <div class="bento-card" onclick="openModal(0, 'main')">
                <img src="{% static 'image/facilities/phong-hoc.jpg.jpg' %}" alt="Ph√≤ng h·ªçc" class="bento-bg-image" onerror="this.style.display='none';this.parentElement.classList.add('no-image')">
                <div class="bento-overlay"></div>
                <span class="bento-icon">üè´</span>
                <span class="bento-category">H·ªçc t·∫≠p</span>
                <div class="bento-info">
                    <div class="bento-name">Ph√≤ng h·ªçc</div>
                    <div class="bento-sub">Kh√¥ng gian h·ªçc t·∫≠p hi·ªán ƒë·∫°i</div>
                </div>
            </div>

            <div class="bento-card" onclick="openModal(1, 'main')">
                <img src="{% static 'image/facilities/ki-tuc-xa.jpg' %}" alt="K√Ω t√∫c x√°" class="bento-bg-image" onerror="this.style.display='none';this.parentElement.classList.add('no-image')">
                <div class="bento-overlay"></div>
                <span class="bento-icon">üè†</span>
                <span class="bento-category">Sinh ho·∫°t</span>
                <div class="bento-info">
                    <div class="bento-name">K√Ω t√∫c x√°</div>
                    <div class="bento-sub">Ti·ªán nghi & an to√†n</div>
                </div>
            </div>

            <div class="bento-card" onclick="openModal(2, 'main')">
                <img src="{% static 'image/facilities/thu-vien.jpg' %}" alt="Th∆∞ vi·ªán" class="bento-bg-image" onerror="this.style.display='none';this.parentElement.classList.add('no-image')">
                <div class="bento-overlay"></div>
                <span class="bento-icon">üìö</span>
                <span class="bento-category">Tri th·ª©c</span>
                <div class="bento-info">
                    <div class="bento-name">Th∆∞ vi·ªán</div>
                    <div class="bento-sub">Kho t√†ng ki·∫øn th·ª©c</div>
                </div>
            </div>

            <div class="bento-card" onclick="openModal(3, 'main')">
                <img src="{% static 'image/facilities/khu-the-thao.jpg' %}" alt="Khu th·ªÉ thao" class="bento-bg-image" onerror="this.style.display='none';this.parentElement.classList.add('no-image')">
                <div class="bento-overlay"></div>
                <span class="bento-icon">‚öΩ</span>
                <span class="bento-category">Th·ªÉ ch·∫•t</span>
                <div class="bento-info">
                    <div class="bento-name">Khu th·ªÉ thao</div>
                    <div class="bento-sub">R√®n luy·ªán s·ª©c kh·ªèe</div>
                </div>
            </div>

            <div class="bento-card" onclick="openModal(0, 'xanh')">
                <img src="{% static 'image/facilities/khong-gian-xanh.jpg' %}" alt="Kh√¥ng gian xanh" class="bento-bg-image" onerror="this.style.display='none';this.parentElement.classList.add('no-image')">
                <div class="bento-overlay"></div>
                <span class="bento-icon">üå≥</span>
                <span class="bento-category">Thi√™n nhi√™n</span>
                <div class="bento-info">
                    <div class="bento-name">Kh√¥ng gian xanh</div>
                    <div class="bento-sub">Th∆∞ gi√£n & k·∫øt n·ªëi</div>
                </div>
            </div>

            <div class="bento-card" onclick="openModal(5, 'main')">
                <img src="{% static 'image/facilities/hoi-truong.jpg' %}" alt="H·ªôi tr∆∞·ªùng" class="bento-bg-image" onerror="this.style.display='none';this.parentElement.classList.add('no-image')">
                <div class="bento-overlay"></div>
                <span class="bento-icon">üé≠</span>
                <span class="bento-category">S·ª± ki·ªán</span>
                <div class="bento-info">
                    <div class="bento-name">H·ªôi tr∆∞·ªùng</div>
                    <div class="bento-sub">S√¢n kh·∫•u ƒëa nƒÉng</div>
                </div>
            </div>

            <div class="bento-card" onclick="openModal(6, 'main')">
                <img src="{% static 'image/facilities/Phong-lab.jpg' %}" alt="Ph√≤ng Lab" class="bento-bg-image" onerror="this.style.display='none';this.parentElement.classList.add('no-image')">
                <div class="bento-overlay"></div>
                <span class="bento-icon">üî¨</span>
                <span class="bento-category">Nghi√™n c·ª©u</span>
                <div class="bento-info">
                    <div class="bento-name">Ph√≤ng Lab</div>
                    <div class="bento-sub">C√¥ng ngh·ªá ti√™n ti·∫øn</div>
                </div>
            </div>

            <div class="bento-card" onclick="openModal(7, 'main')">
                <img src="{% static 'image/facilities/studio.jpg.jpg' %}" alt="Studio" class="bento-bg-image" onerror="this.style.display='none';this.parentElement.classList.add('no-image')">
                <div class="bento-overlay"></div>
                <span class="bento-icon">üé¨</span>
                <span class="bento-category">S√°ng t·∫°o</span>
                <div class="bento-info">
                    <div class="bento-name">Studio</div>
                    <div class="bento-sub">Kh√¥ng gian s√°ng t·∫°o ƒëa ph∆∞∆°ng ti·ªán</div>
                </div>
            </div>

        </div>

        <!-- Dining Area card (formerly LUK) -->
        <div class="luk-card-wrap">
            <div class="bento-card" id="lukCard" onclick="openDiningModal()">
                <img src="{% static 'image/luk/dining-1.ipg.jpg' %}" alt="Dining Area" class="bento-bg-image" onerror="this.style.display='none';this.parentElement.classList.add('no-image')">
                <div class="bento-overlay"></div>
                <span class="bento-icon">üçΩÔ∏è</span>
                <span class="bento-category">·∫®m th·ª±c</span>
                <div class="bento-info">
                    <div class="bento-name">Dining Area</div>
                    <div class="bento-sub">Nh√† h√†ng ¬∑ Canteen ¬∑ Caf√© ¬∑ Food Court</div>
                </div>
            </div>
        </div>
    </section>

    <!-- ============ CLUBS ============ -->
    <section class="clubs-section">
        <h2 class="section-title">
            Ho·∫°t ƒë·ªông <span class="highlight">ngo·∫°i kh√≥a & CLB</span>
            <span class="diagonal-lines"></span>
        </h2>

        <p class="clubs-intro">
            T·∫°i FPTU, sinh vi√™n ƒë∆∞·ª£c tham gia h·ªá sinh th√°i ngo·∫°i kh√≥a s√¥i ƒë·ªông v·ªõi h∆°n 50 c√¢u l·∫°c b·ªô tr·∫£i d√†i t·ª´ h·ªçc thu·∫≠t, ngh·ªá thu·∫≠t, th·ªÉ thao ƒë·∫øn c√¥ng ngh·ªá. C√°c ho·∫°t ƒë·ªông ƒë∆∞·ª£c t·ªï ch·ª©c quanh nƒÉm, t·∫°o m√¥i tr∆∞·ªùng r√®n luy·ªán k·ªπ nƒÉng, m·ªü r·ªông m·∫°ng l∆∞·ªõi v√† kh√°m ph√° ƒëam m√™. ƒê√¢y l√† n∆°i m·ªói sinh vi√™n c√≥ th·ªÉ "ch√°y h·∫øt m√¨nh", ph√°t tri·ªÉn b·∫£n th√¢n to√†n di·ªán v√† x√¢y d·ª±ng b·∫£n s·∫Øc ri√™ng.
        </p>

        <a href="{% url 'families' %}" class="cta-button">
            Xem th√™m
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
        </a>

        <div class="clubs-grid">
            <div class="club-card"><img src="{% static 'image/club/club-1.jpg' %}" alt="CLB 1" class="club-image"></div>
            <div class="club-card"><img src="{% static 'image/club/club-2.jpg' %}" alt="CLB 2" class="club-image"></div>
            <div class="club-card"><img src="{% static 'image/club/club-3.jpg' %}" alt="CLB 3" class="club-image"></div>
            <div class="club-card"><img src="{% static 'image/club/club-4.jpg' %}" alt="CLB 4" class="club-image"></div>
        </div>
    </section>

    <!-- ============ INTERNATIONAL ============ -->
    <section class="international-section">
        <h2 class="section-title">
            Tr·∫£i nghi·ªám <span class="highlight">qu·ªëc t·∫ø</span>
            <span class="diagonal-lines"></span>
        </h2>

        <div class="international-container">
            <div class="international-images">
                <div class="int-image-wrapper">
                    <img src="{% static 'image/international/i-1.jpg' %}" alt="Qu·ªëc t·∫ø 1" class="int-image">
                </div>
                <div class="int-image-wrapper">
                    <img src="{% static 'image/international/i-2.jpg' %}" alt="Qu·ªëc t·∫ø 2" class="int-image">
                </div>
                <div class="int-image-wrapper">
                    <img src="{% static 'image/international/i-3.jpg' %}" alt="Qu·ªëc t·∫ø 3" class="int-image">
                </div>
            </div>

            <div class="international-content">
                <p>
                    100% sinh vi√™n FPTU c√≥ c∆° h·ªôi h·ªçc t·∫≠p v√† tr·∫£i nghi·ªám qu·ªëc t·∫ø. M·ªói sinh vi√™n FPTU ƒë∆∞·ª£c quy·ªÅn ƒëƒÉng k√Ω √≠t nh·∫•t m·ªôt h·ªçc k·ª≥ h·ªçc t·∫≠p ho·∫∑c trao ƒë·ªïi qu·ªëc t·∫ø t·∫°i tr∆∞·ªùng ƒë·∫°i h·ªçc ƒë·ªëi t√°c n∆∞·ªõc ngo√†i. T·ª´ c√°c ch∆∞∆°ng tr√¨nh h·ªçc t·∫≠p, r√®n luy·ªán ti·∫øng Anh ƒë·∫øn k·ªπ th·ª±c t·∫≠p to√†n c·∫ßu, sinh vi√™n ƒë∆∞·ª£c tr·ª±c ti·∫øp tr·∫£i nghi·ªám m√¥i tr∆∞·ªùng qu·ªëc t·∫ø.
                </p>

                <a href="https://www.facebook.com/daihocfptdanang" target="_blank" class="cta-button">
                    Xem th√™m
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 12h14M12 5l7 7-7 7"/>
                    </svg>
                </a>

                <div class="pagination-dots">
                    <span class="dot active"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                </div>
            </div>
        </div>
    </section>
</div>

<!-- ============ MODALS ============ -->

<!-- Modal ch√≠nh -->
<div class="modal" id="mainModal">
    <div class="modal-content">
        <button class="modal-close" onclick="closeModal('main')">√ó</button>
        <button class="modal-nav prev" onclick="navigateModal(-1,'main')">‚Äπ</button>
        <img src="" alt="" class="modal-image" id="mainModalImage">
        <button class="modal-nav next" onclick="navigateModal(1,'main')">‚Ä∫</button>
        <div class="modal-caption" id="mainModalCaption"></div>
    </div>
</div>

<!-- Modal Dining Area (formerly LUK) -->
<div class="modal" id="diningModal">
    <div class="modal-content">
        <button class="modal-close" onclick="closeModal('dining')">√ó</button>
        <button class="modal-nav prev" onclick="navigateModal(-1,'dining')">‚Äπ</button>
        <img src="" alt="" class="modal-image" id="diningModalImage">
        <button class="modal-nav next" onclick="navigateModal(1,'dining')">‚Ä∫</button>
        <div class="modal-caption" id="diningModalCaption"></div>
    </div>
</div>

<!-- Modal Kh√¥ng gian xanh -->
<div class="modal" id="xanhModal">
    <div class="modal-content">
        <button class="modal-close" onclick="closeModal('xanh')">√ó</button>
        <button class="modal-nav prev" onclick="navigateModal(-1,'xanh')">‚Äπ</button>
        <img src="" alt="" class="modal-image" id="xanhModalImage">
        <button class="modal-nav next" onclick="navigateModal(1,'xanh')">‚Ä∫</button>
        <div class="modal-caption" id="xanhModalCaption"></div>
    </div>
</div>

<script>
const facilities = [
    { name: 'Ph√≤ng h·ªçc',       image: '{% static "image/facilities/phong-hoc.jpg.jpg" %}' },
    { name: 'K√Ω t√∫c x√°',       image: '{% static "image/facilities/ki-tuc-xa.jpg" %}' },
    { name: 'Th∆∞ vi·ªán',        image: '{% static "image/facilities/thu-vien.jpg" %}' },
    { name: 'Khu th·ªÉ thao',    image: '{% static "image/facilities/khu-the-thao.jpg" %}' },
    { name: 'Kh√¥ng gian xanh', image: '{% static "image/facilities/khong-gian-xanh.jpg" %}' },
    { name: 'H·ªôi tr∆∞·ªùng',      image: '{% static "image/facilities/hoi-truong.jpg" %}' },
    { name: 'Ph√≤ng Lab',       image: '{% static "image/facilities/Phong-lab.jpg" %}' },
    { name: 'Studio',          image: '{% static "image/facilities/studio.jpg.jpg" %}' }
];

const diningFacilities = [
    { name: 'Dining 1', image: '{% static "image/luk/dining-1.ipg.jpg" %}' },
    { name: 'Dining 2', image: '{% static "image/luk/dining-2.ipg.jpg" %}' },
    { name: 'Dining 3', image: '{% static "image/luk/dining-3.ipg.jpg" %}' },
    { name: 'Dining 4', image: '{% static "image/luk/dining-4.ipg.jpg" %}' }
];

const xanhFacilities = [
    { name: 'Kh√¥ng gian xanh 1', image: '{% static "image/facilities/khong-gian-xanh.jpg" %}' },
    { name: 'Kh√¥ng gian xanh 2', image: '{% static "image/facilities/khong-gian-xanh1.jpg" %}' },
    { name: 'Kh√¥ng gian xanh 3', image: '{% static "image/facilities/khong-gian-xanh2.jpg" %}' },
    { name: 'Kh√¥ng gian xanh 4', image: '{% static "image/facilities/khong-gian-xanh3.jpg" %}' },
];

let currentModalIndex = 0;
let currentModalType = 'main';

function getModalEls(type) {
    return {
        main:   { data: facilities,       id: 'mainModal',   img: 'mainModalImage',   cap: 'mainModalCaption'   },
        dining: { data: diningFacilities, id: 'diningModal', img: 'diningModalImage', cap: 'diningModalCaption' },
        xanh:   { data: xanhFacilities,   id: 'xanhModal',   img: 'xanhModalImage',   cap: 'xanhModalCaption'   },
    }[type];
}

function openModal(index, type) {
    currentModalIndex = index;
    currentModalType = type;
    const m = getModalEls(type);
    document.getElementById(m.img).src = m.data[index].image;
    document.getElementById(m.cap).textContent = m.data[index].name;
    document.getElementById(m.id).classList.add('active');
    document.body.style.overflow = 'hidden';
}

function openDiningModal() { openModal(0, 'dining'); }

function closeModal(type) {
    document.getElementById(getModalEls(type).id).classList.remove('active');
    document.body.style.overflow = 'auto';
}

function navigateModal(dir, type) {
    const m = getModalEls(type);
    currentModalIndex = (currentModalIndex + dir + m.data.length) % m.data.length;
    document.getElementById(m.img).src = m.data[currentModalIndex].image;
    document.getElementById(m.cap).textContent = m.data[currentModalIndex].name;
}

document.addEventListener('keydown', e => {
    if (e.key === 'Escape') {
        closeModal('main');
        closeModal('dining');
        closeModal('xanh');
    }
});

document.getElementById('mainModal').addEventListener('click',   function(e) { if (e.target === this) closeModal('main');   });
document.getElementById('diningModal').addEventListener('click', function(e) { if (e.target === this) closeModal('dining'); });
document.getElementById('xanhModal').addEventListener('click',   function(e) { if (e.target === this) closeModal('xanh');   });

/* Scroll-triggered stagger animation */
const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            const cards = entry.target.querySelectorAll('.bento-card');
            cards.forEach((card, i) => {
                setTimeout(() => card.classList.add('visible'), i * 80);
            });
            observer.unobserve(entry.target);
        }
    });
}, { threshold: 0.1 });

observer.observe(document.getElementById('bentoGrid'));

const lukObs = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            setTimeout(() => entry.target.classList.add('visible'), 100);
            lukObs.unobserve(entry.target);
        }
    });
}, { threshold: 0.2 });

const lukCard = document.getElementById('lukCard');
if (lukCard) lukObs.observe(lukCard);
</script>

{% endblock %}